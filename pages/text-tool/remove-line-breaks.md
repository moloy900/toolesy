---
layout: default
title: "Remove Line Breaks Online - Clean Text Tool | Instant"
permalink: /remove-line-breaks-online-clean-text-tool-instant/
---


<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Remove Line Breaks Online - Clean Text Tool | Instant</title>
<meta name="description"
    content="Remove extra line breaks from text instantly. Clean messy data from PDFs, word processors & web pages. Fast, free, and no registration required. Try it now!">
<meta name="keywords"
    content="remove line breaks, line break remover, clean text online, delete line breaks, text cleaner tool, remove newlines, paragraph formatter, pdf text cleaner, word processor text fix, online text tool">
<meta name="author" content="paramdip">
<meta name="robots" content="index, follow">
<meta http-equiv="Content-Language" content="en">
<link rel="canonical" href="https://converttextdata.blogspot.com/2025/08/blog-post_24.html">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://converttextdata.blogspot.com/2025/08/blog-post_24.html">
<meta property="og:title" content="Remove Line Breaks Online - Clean Text Tool | Instant">
<meta property="og:description"
    content="Remove extra line breaks from text instantly. Clean messy data from PDFs, word processors & web pages. Fast, free, and no registration required.">
<meta property="og:image" content="https://converttextdata.blogspot.com/line-break-removal-tool-preview.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://converttextdata.blogspot.com/2025/08/blog-post_24.html">
<meta property="twitter:title" content="Remove Line Breaks Online - Clean Text Tool | Instant">
<meta property="twitter:description"
    content="Remove extra line breaks from text instantly. Clean messy data from PDFs, word processors & web pages.">
<meta property="twitter:image" content="https://converttextdata.blogspot.com/line-break-removal-tool-preview.jpg">

<!-- JSON-LD Structured Data -->
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Line Break Removal Tool",
      "url": "https://converttextdata.blogspot.com/2025/08/blog-post_24.html",
      "description": "Free online tool to remove line breaks and clean up text from PDFs, documents, and web pages.",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "permissions": "browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>

<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What exactly does this tool remove?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "It removes line break characters (like \\n and \\r), which are created when you press 'Enter' or 'Return' in a document. These often appear as unwanted gaps or new lines when text is moved between different applications."
          }
        },
        {
          "@type": "Question",
          "name": "Will this tool delete my paragraph spacing?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "You have control. The tool can be set to remove all breaks completely or replace each break with a space to ensure words don't run together, preserving the logical flow of sentences."
          }
        },
        {
          "@type": "Question",
          "name": "Is my text safe when I use this online tool?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Completely. All processing happens locally within your own web browser. Your text is never transmitted to or stored on our server, ensuring 100% data privacy and security."
          }
        }
      ]
    }
    </script>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    .converter-container {
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
    }

    .converter-container h1 {
        color: var(--primary);
        text-align: center;
        margin-bottom: 15px;
        font-size: 2.5rem;
        border-bottom: 3px solid var(--primary);
        padding-bottom: 15px;
    }

    .welcome-message {
        text-align: center;
        font-size: 1.2rem;
        color: #666;
        margin-bottom: 40px;
        line-height: 1.8;
    }

    .converter-section {
        margin-bottom: 40px;
        padding: 25px;
        background: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid var(--primary);
    }

    .converter-section h2 {
        color: var(--primary);
        margin-bottom: 20px;
        font-size: 1.5rem;
        border-bottom: 2px solid #e0e0e0;
        padding-bottom: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .converter-section p {
        margin-bottom: 15px;
        line-height: 1.8;
        color: #333;
    }

    .counter-wrapper {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
        border-left: 4px solid var(--primary);
    }

    .counter-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px;
        background: white;
        border-radius: 6px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .counter-item span:first-child {
        font-weight: 600;
        color: var(--primary);
    }

    .counter-item span:last-child {
        font-weight: bold;
        color: #2c3e50;
    }

    .text-areas-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 20px 0;
    }

    .input-section,
    .output-section {
        display: flex;
        flex-direction: column;
    }

    .input-section textarea,
    .output-section textarea {
        width: 100%;
        padding: 18px;
        border: 2px solid #e0e6ed;
        border-radius: 10px;
        font-size: 16px;
        min-height: 300px;
        resize: vertical;
        font-family: inherit;
        transition: border-color 0.3s;
        flex-grow: 1;
    }

    .input-section textarea:focus,
    .output-section textarea:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
    }

    .options-section {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
    }

    .option-group {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
    }

    .option-item {
        background: white;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .option-item h3 {
        color: #2c3e50;
        margin-bottom: 12px;
        font-size: 18px;
        border-bottom: 1px solid #eee;
        padding-bottom: 8px;
    }

    .option-checkbox {
        display: flex;
        align-items: center;
        margin: 10px 0;
    }

    .option-checkbox input {
        margin-right: 10px;
        width: 18px;
        height: 18px;
    }

    .option-checkbox label {
        color: #34495e;
        font-weight: 500;
    }

    .button-section {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 12px;
        margin: 25px 0;
    }

    .case-button {
        padding: 14px 10px;
        border: none;
        border-radius: 8px;
        background: var(--primary);
        color: white;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
    }

    .case-button:hover {
        background: #2980b9;
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    .case-button:active {
        transform: translateY(0);
    }

    .case-button.success {
        background: var(--success);
    }

    .case-button.success:hover {
        background: #218838;
    }

    .case-button.secondary {
        background: #6c757d;
    }

    .case-button.secondary:hover {
        background: #5a6268;
    }

    .stats {
        display: flex;
        justify-content: space-between;
        margin-top: 10px;
        color: #6c757d;
        font-size: 0.9rem;
    }

    .examples {
        margin-top: 30px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 8px;
    }

    .example-text {
        background: white;
        padding: 15px;
        border-radius: 6px;
        border-left: 4px solid var(--primary);
        margin: 10px 0;
        font-family: monospace;
        white-space: pre-wrap;
    }

    .alert-container {
        margin-top: 20px;
        min-height: 50px;
    }

    .alert {
        padding: 14px 20px;
        border-radius: 8px;
        margin-bottom: 10px;
        font-weight: 500;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .alert-success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }

    .alert-error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }

    .alert .close {
        cursor: pointer;
        font-weight: bold;
    }

    .content-placeholder {
        padding: 25px;
        background: white;
        border-radius: 12px;
        margin-top: 30px;
    }

    .content-placeholder ul {
        margin: 15px 0;
        padding-left: 30px;
    }

    .content-placeholder li {
        margin-bottom: 10px;
        line-height: 1.6;
        color: #555;
    }

    .content-placeholder h2 {
        color: #2c3e50;
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 15px;
        margin-bottom: 25px;
    }

    .results-section {
        margin-top: 30px;
    }

    .results-section textarea {
        width: 100%;
        padding: 18px;
        border: 2px solid #e0e6ed;
        border-radius: 10px;
        font-size: 16px;
        min-height: 220px;
        resize: vertical;
        font-family: inherit;
        transition: border-color 0.3s;
    }

    .results-summary {
        padding: 15px;
        background: #e3f2fd;
        border-radius: 8px;
        margin-bottom: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .results-count {
        font-weight: 600;
        color: #2c3e50;
    }

    .upload-icon {
        color: var(--primary);
        cursor: pointer;
        font-size: 1.2rem;
        transition: all 0.3s ease;
        padding: 5px;
        border-radius: 4px;
    }

    .upload-icon:hover {
        background: rgba(52, 152, 219, 0.1);
        transform: scale(1.1);
    }

    /* Modal styles */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        animation: fadeIn 0.3s;
    }

    .modal-content {
        background-color: #fefefe;
        margin: 10% auto;
        padding: 30px;
        border-radius: 12px;
        width: 90%;
        max-width: 500px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        animation: slideIn 0.3s;
    }

    .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        border-bottom: 1px solid #eee;
        padding-bottom: 15px;
    }

    .modal-title {
        font-size: 1.5rem;
        color: var(--primary);
        margin: 0;
    }

    .close-modal {
        color: #aaa;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
        transition: color 0.3s;
    }

    .close-modal:hover {
        color: #000;
    }

    .modal-body {
        margin-bottom: 20px;
    }

    .modal-footer {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
    }

    .modal-button {
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
        border: none;
    }

    .modal-button.primary {
        background: var(--primary);
        color: white;
    }

    .modal-button.secondary {
        background: #6c757d;
        color: white;
    }

    .modal-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes slideIn {
        from {
            transform: translateY(-50px);
            opacity: 0;
        }

        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    /* Responsive adjustments */
    @media (max-width: 992px) {
        .text-areas-container {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 768px) {
        .counter-wrapper {
            grid-template-columns: 1fr;
        }

        .button-section {
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        }

        .case-button {
            font-size: 13px;
            padding: 12px 8px;
        }

        .converter-container {
            padding: 15px;
        }

        .converter-section {
            padding: 20px;
            margin-bottom: 30px;
        }

        .converter-container h1 {
            font-size: 2rem;
        }

        .converter-section h2 {
            font-size: 1.3rem;
        }

        .option-group {
            grid-template-columns: 1fr;
        }

        .modal-content {
            margin: 20% auto;
            width: 95%;
            padding: 20px;
        }
    }
</style>

<div class="converter-container">
    <h1>Remove Line Breaks Online - Free Text Cleaner Tool</h1>
    <p class="welcome-message">Remove unwanted line breaks, clean up extra spaces, and format your text with multiple
        options. Perfect for cleaning up copied text or preparing content for publishing.</p>

    <div class="converter-section">
        <h2>Line Break Removal Tool</h2>

        <div class="counter-wrapper">
            <div class="counter-item">
                <span>Character Count: </span>
                <span id="charCount">0</span>
            </div>
            <div class="counter-item">
                <span>Word Count: </span>
                <span id="wordCount">0</span>
            </div>
            <div class="counter-item">
                <span>Line Count: </span>
                <span id="lineCount">0</span>
            </div>
            <div class="counter-item">
                <span>Paragraph Count: </span>
                <span id="paragraphCount">0</span>
            </div>
        </div>

        <div class="text-areas-container">
            <div class="input-section">
                <h2>Input Text <i class="fas fa-upload upload-icon" id="uploadIcon">Upload</i></h2>
                <textarea id="inputText" rows="6" placeholder="Paste your text with line breaks here...">This is a sample text
with multiple line breaks.

Some paragraphs have    extra spaces.

We can also demonstrate "text inside quotes"
that might need special handling.</textarea>

                <div class="stats">
                    <span id="inputStats">Characters: 0 | Lines: 0</span>
                </div>
            </div>

            <div class="output-section">
                <h2>Processed Text</h2>
                <textarea id="outputText" readonly placeholder="Your processed text will appear here..."></textarea>

                <div class="stats">
                    <span id="outputStats">Characters: 0 | Lines: 0</span>
                </div>
            </div>
        </div>

        <div class="options-section">
            <h2>Processing Options</h2>

            <div class="option-group">
                <div class="option-item">
                    <h3>Line Break Handling</h3>
                    <div class="option-checkbox">
                        <input type="radio" id="removeAll" name="linebreakOption" value="removeAll" checked>
                        <label for="removeAll">Remove all line breaks</label>
                    </div>
                    <div class="option-checkbox">
                        <input type="radio" id="joinWithSpace" name="linebreakOption" value="joinWithSpace">
                        <label for="joinWithSpace">Join with space</label>
                    </div>
                    <div class="option-checkbox">
                        <input type="radio" id="joinWithNothing" name="linebreakOption" value="joinWithNothing">
                        <label for="joinWithNothing">Join with nothing</label>
                    </div>
                    <div class="option-checkbox">
                        <input type="radio" id="keepParagraphs" name="linebreakOption" value="keepParagraphs">
                        <label for="keepParagraphs">Keep paragraphs, unwrap soft wraps</label>
                    </div>
                </div>

                <div class="option-item">
                    <h3>Space Handling</h3>
                    <div class="option-checkbox">
                        <input type="checkbox" id="removeSpaces" checked>
                        <label for="removeSpaces">Remove extra spaces</label>
                    </div>
                    <div class="option-checkbox">
                        <input type="checkbox" id="trimText" checked>
                        <label for="trimText">Trim leading/trailing spaces</label>
                    </div>
                    <div class="option-checkbox">
                        <input type="checkbox" id="normalizeLineEndings">
                        <label for="normalizeLineEndings">Normalize line endings (to Unix format)</label>
                    </div>
                </div>

                <div class="option-item">
                    <h3>Special Options</h3>
                    <div class="option-checkbox">
                        <input type="checkbox" id="onlyInsideQuotes">
                        <label for="onlyInsideQuotes">Only remove inside quotes</label>
                    </div>
                    <div class="option-checkbox">
                        <input type="checkbox" id="maxWidthReflow">
                        <label for="maxWidthReflow">Max-width reflow (80 chars)</label>
                    </div>
                </div>
            </div>

            <div class="button-section">
                <button id="processBtn" class="case-button success">Process Text</button>
                <button id="clearBtn" class="case-button secondary">Clear All</button>
                <button id="exampleBtn" class="case-button">Load Example</button>
                <button id="copyBtn" class="case-button">Copy to Clipboard</button>
                <button id="downloadBtn" class="case-button">Download Text</button>
            </div>
        </div>

        <div id="alertContainer" class="alert-container"></div>

        <div class="results-section">
            <h2>Results</h2>
            <div class="results-summary">
                <span id="resultsSummary">No processing done yet</span>
            </div>
            <textarea id="resultsOutput" rows="6" placeholder="Your processed text will appear here..."
                readonly></textarea>
        </div>
{% include share-and-donation.html %}
        <div class="examples">
            <h2>Examples</h2>

            <h3>Before Processing:</h3>
            <div class="example-text">This is text
                with many line breaks.

                It has multiple paragraphs.

                Some have extra spaces.</div>

            <h3>After Processing (Remove all line breaks + extra spaces):</h3>
            <div class="example-text">This is text with many line breaks. It has multiple paragraphs. Some have extra
                spaces.</div>
        </div>
    </div>

    <!-- SEO Content Section -->
    <div class="content-placeholder">
        <h2>Free Online Line Break Removal Tool</h2>
        <p>Struggling with messy text full of unwanted line breaks? Our <strong>Free Line Break Removal Tool</strong>
            instantly cleans and reformats your text. Have you ever copied text from a PDF, email, or a website, only to
            paste it and find it broken into a thousand pieces? This tool fixes that in one click. It efficiently
            removes manual line breaks, carriage returns, and unnecessary newlines, transforming fragmented text into
            clean, flowing paragraphs or a single line of code. Perfect for writers, data entry specialists,
            programmers, and students, this browser-based tool guarantees your data's privacy and requires no downloads
            or sign-ups. Get perfectly formatted text instantly.</p>

        <h3>How to Use This Line Break Remover (Step-by-Step):</h3>
        <ul>
            <li><strong>Paste Your Text:</strong> Copy the messy text with unwanted line breaks and paste it into the
                input box, or upload a text file</li>
            <li><strong>Choose Options (Optional):</strong> Select if you want to replace breaks with a space or remove
                them completely</li>
            <li><strong>Remove Breaks:</strong> Click the "Process Text" button. Your clean, continuous text will appear
                instantly</li>
            <li><strong>Copy or Download:</strong> Use the "Copy" button for immediate use or "Download" to save the
                clean text as a `.txt` file</li>
        </ul>

        <h3>Real-Life Example & Use Case:</h3>
        <p>A student copies a paragraph from a PDF for their essay. The pasted text looks like this:</p>
        <div class="example-text">"This is a sentence from the PDF.\nIt has unwanted line breaks after every line.\nThis
            makes it messy to read and edit."</div>
        <p>They paste it into the tool and click process. The result is a clean paragraph:</p>
        <div class="example-text">"This is a sentence from the PDF. It has unwanted line breaks after every line. This
            makes it messy to read and edit."</div>

        <h3>Benefits & Who Should Use This Tool:</h3>
        <ul>
            <li><strong>Data Analysts & Office Workers:</strong> Clean data imported from PDF reports, emails, or other
                documents before importing into Excel, CSV files, or databases</li>
            <li><strong>Writers & Editors:</strong> Reformatted text copied from web pages or PDFs into a single,
                editable document without manual cleanup</li>
            <li><strong>Programmers & Developers:</strong> Remove line breaks from JSON strings, configuration files, or
                user inputs that need to be in a continuous format</li>
            <li><strong>Students & Researchers:</strong> Prepare clean text from online journals or eBooks for quotes
                and references in papers</li>
            <li><strong>SEO Specialists:</strong> Clean up meta descriptions or content snippets that have been broken
                by line feeds</li>
        </ul>

        <h3>Frequently Asked Questions (FAQ):</h3>

        <p><strong>Q: What exactly does this tool remove?</strong><br>
            <strong>A:</strong> It removes line break characters (like `\n` and `\r`), which are created when you press
            'Enter' or 'Return' in a document. These often appear as unwanted gaps or new lines when text is moved
            between different applications.
        </p>

        <p><strong>Q: Will this tool delete my paragraph spacing?</strong><br>
            <strong>A:</strong> You have control. The tool can be set to remove all breaks completely or replace each
            break with a space to ensure words don't run together, preserving the logical flow of sentences.
        </p>

        <p><strong>Q: Is my text safe when I use this online tool?</strong><br>
            <strong>A:</strong> Completely. All processing happens locally within your own web browser. Your text is
            never transmitted to or stored on our server, ensuring 100% data privacy and security.
        </p>

        <p><strong>Q: Can I use this tool on my phone?</strong><br>
            <strong>A:</strong> Yes, the tool is fully responsive and works perfectly on all mobile devices, allowing
            you to clean text on the go.
        </p>

        <p><strong>Q: Is there a limit to how much text I can clean?</strong><br>
            <strong>A:</strong> You can process very large blocks of text, making it suitable for cleaning entire
            chapters or large data sets in one go.
        </p>

        <p><strong>Q: Do I need to create an account or pay to use this?</strong><br>
            <strong>A:</strong> No, this is a completely free tool. There is no sign-up, no subscription, and no hidden
            fees.
        </p>
    </div>
</div>

<!-- File Upload Modal -->
<div id="uploadModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Upload Text File</h3>
            <span class="close-modal">&times;</span>
        </div>
        <div class="modal-body">
            <p>Select a text file (.txt) to upload its content to the text area.</p>
            <input type="file" id="modalFileUpload" accept=".txt">
            <p id="fileInfo" class="file-info"></p>
        </div>
        <div class="modal-footer">
            <button class="modal-button secondary" id="cancelUpload">Cancel</button>
            <button class="modal-button primary" id="confirmUpload">Upload</button>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Elements
        const inputText = document.getElementById('inputText');
        const outputText = document.getElementById('outputText');
        const processBtn = document.getElementById('processBtn');
        const clearBtn = document.getElementById('clearBtn');
        const copyBtn = document.getElementById('copyBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const exampleBtn = document.getElementById('exampleBtn');
        const alertContainer = document.getElementById('alertContainer');
        const resultsSummary = document.getElementById('resultsSummary');
        const uploadIcon = document.getElementById('uploadIcon');

        // Modal elements
        const uploadModal = document.getElementById('uploadModal');
        const modalFileUpload = document.getElementById('modalFileUpload');
        const fileInfo = document.getElementById('fileInfo');
        const closeModal = document.querySelector('.close-modal');
        const cancelUpload = document.getElementById('cancelUpload');
        const confirmUpload = document.getElementById('confirmUpload');

        // Initialize counters
        updateCounts();

        // Event listeners
        inputText.addEventListener('input', updateCounts);

        // Upload icon click handler - opens modal
        uploadIcon.addEventListener('click', function () {
            uploadModal.style.display = 'block';
        });

        // Close modal when clicking X
        closeModal.addEventListener('click', function () {
            uploadModal.style.display = 'none';
            modalFileUpload.value = '';
            fileInfo.textContent = '';
        });

        // Close modal when clicking cancel
        cancelUpload.addEventListener('click', function () {
            uploadModal.style.display = 'none';
            modalFileUpload.value = '';
            fileInfo.textContent = '';
        });

        // Close modal when clicking outside
        window.addEventListener('click', function (event) {
            if (event.target === uploadModal) {
                uploadModal.style.display = 'none';
                modalFileUpload.value = '';
                fileInfo.textContent = '';
            }
        });

        // Handle file selection in modal
        modalFileUpload.addEventListener('change', function (e) {
            const file = e.target.files[0];
            if (file) {
                fileInfo.textContent = `Selected file: ${file.name} (${(file.size / 1024).toFixed(2)} KB)`;
            } else {
                fileInfo.textContent = '';
            }
        });

        // Confirm upload button
        confirmUpload.addEventListener('click', function () {
            const file = modalFileUpload.files[0];
            if (!file) {
                showAlert('Please select a file first.', 'error');
                return;
            }

            // Check file type
            if (file.type === 'text/plain' || file.name.endsWith('.txt')) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    inputText.value = e.target.result;
                    updateCounts();
                    showAlert('Text file uploaded successfully!', 'success');
                    uploadModal.style.display = 'none';
                    modalFileUpload.value = '';
                    fileInfo.textContent = '';
                };
                reader.onerror = function () {
                    showAlert('Error reading the text file.', 'error');
                };
                reader.readAsText(file);
            } else {
                showAlert('Unsupported file format. Please upload a TXT file.', 'error');
            }
        });

        processBtn.addEventListener('click', function () {
            let text = inputText.value;

            if (!text) {
                showAlert('Please enter some text to process.', 'error');
                return;
            }

            // Get selected options
            const linebreakOption = document.querySelector('input[name="linebreakOption"]:checked').value;
            const removeSpaces = document.getElementById('removeSpaces').checked;
            const trimText = document.getElementById('trimText').checked;
            const normalizeLineEndings = document.getElementById('normalizeLineEndings').checked;
            const onlyInsideQuotes = document.getElementById('onlyInsideQuotes').checked;
            const maxWidthReflow = document.getElementById('maxWidthReflow').checked;

            // Normalize line endings first if requested
            if (normalizeLineEndings) {
                text = text.replace(/\r\n/g, '\n').replace(/\r/g, '\n');
            }

            // Handle line breaks based on selection
            switch (linebreakOption) {
                case 'removeAll':
                    text = text.replace(/\n/g, ' ');
                    break;
                case 'joinWithSpace':
                    text = text.replace(/\n/g, ' ');
                    break;
                case 'joinWithNothing':
                    text = text.replace(/\n/g, '');
                    break;
                case 'keepParagraphs':
                    // Replace single line breaks with space, double line breaks stay
                    text = text.replace(/([^\n])\n([^\n])/g, '$1 $2');
                    break;
            }

            // Remove extra spaces if requested
            if (removeSpaces) {
                text = text.replace(/\s+/g, ' ');
            }

            // Trim text if requested
            if (trimText) {
                text = text.trim();
            }

            // Special handling for text inside quotes
            if (onlyInsideQuotes) {
                text = text.replace(/"[^"]*"/g, match =>
                    match.replace(/\n/g, ' ').replace(/\s+/g, ' ')
                );
            }

            // Max-width reflow
            if (maxWidthReflow) {
                const words = text.split(' ');
                let lines = [];
                let currentLine = '';

                for (const word of words) {
                    if ((currentLine + word).length > 80) {
                        lines.push(currentLine);
                        currentLine = word + ' ';
                    } else {
                        currentLine += word + ' ';
                    }
                }

                if (currentLine) {
                    lines.push(currentLine);
                }

                text = lines.join('\n');
            }

            outputText.value = text;
            updateCounts();
            resultsSummary.textContent = 'Text processed successfully!';
            showAlert('Text processed successfully!', 'success');
        });

        // Clear both text areas
        clearBtn.addEventListener('click', function () {
            inputText.value = '';
            outputText.value = '';
            updateCounts();
            resultsSummary.textContent = 'No processing done yet';
            showAlert('Text cleared!', 'success');
        });

        // Copy to clipboard
        copyBtn.addEventListener('click', function () {
            if (!outputText.value) {
                showAlert('No results to copy. Please process text first.', 'error');
                return;
            }

            navigator.clipboard.writeText(outputText.value).then(() => {
                showAlert('Text copied to clipboard!', 'success');
            }).catch(err => {
                showAlert('Failed to copy text: ' + err, 'error');
            });
        });

        // Download text as file
        downloadBtn.addEventListener('click', function () {
            const text = outputText.value;
            if (!text) {
                showAlert('No results to download. Please process text first.', 'error');
                return;
            }

            const filename = 'cleaned-text.txt';

            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
            element.setAttribute('download', filename);
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
            showAlert('Text downloaded successfully!', 'success');
        });

        // Load example text
        exampleBtn.addEventListener('click', function () {
            inputText.value = `This is an example text
with multiple line breaks.

Some paragraphs have    extra    spaces    between words.

We can also show "text inside quotes"
that might need different handling.

Another paragraph to demonstrate
how this tool works.`;

            updateCounts();
            processBtn.click();
        });

        function updateCounts() {
            const text = inputText.value;
            const outputTextValue = outputText.value;

            // Character count
            document.getElementById('charCount').textContent = text.length;

            // Word count
            const wordCount = text.trim() ? text.trim().split(/\s+/).length : 0;
            document.getElementById('wordCount').textContent = wordCount;

            // Line count
            const lineCount = text ? text.split(/\n/).length : 0;
            document.getElementById('lineCount').textContent = lineCount;

            // Paragraph count
            const paragraphCount = text.trim() ? text.trim().split(/\n\s*\n/).length : 0;
            document.getElementById('paragraphCount').textContent = paragraphCount;

            // Input stats
            document.getElementById('inputStats').textContent = `Characters: ${text.length} | Lines: ${lineCount}`;

            // Output stats
            document.getElementById('outputStats').textContent = `Characters: ${outputTextValue.length} | Lines: ${outputTextValue ? outputTextValue.split(/\n/).length : 0}`;
        }

        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.innerHTML = `
                    ${message}
                    <span class="close">&times;</span>
                `;

            alertContainer.innerHTML = '';
            alertContainer.appendChild(alertDiv);

            // Add close functionality
            alertDiv.querySelector('.close').addEventListener('click', function () {
                alertDiv.remove();
            });

            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }
    });
</script>